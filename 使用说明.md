# 智能家居监控系统 - 详细使用说明

## 🚀 快速开始（3种方式）

### 方式1: 一键演示 ⭐ **推荐新手**
```bash
# 在homework_project文件夹中打开命令行，运行：
python demo.py
```
**效果**: 2-3分钟自动演示所有功能，展示系统能力

### 方式2: Web界面体验 ⭐ **推荐展示**
```bash
# 启动Web界面
python main.py --mode web

# 然后打开浏览器访问: http://localhost:5000
```
**效果**: 图形界面，可以点击操作，实时查看数据

### 方式3: 交互式体验
```bash
# 启动交互模式
python main.py --mode interactive
```
**效果**: 命令行交互，可以手动控制各个功能

---

## 📱 Web界面详细使用教程

### 步骤1: 启动系统
```bash
# 1. 进入项目文件夹
cd homework_project

# 2. 启动Web界面
python main.py --mode web

# 3. 看到这样的输出表示成功：
# ✅ Web界面模块已加载
# 启动Web界面: http://0.0.0.0:5000
```

### 步骤2: 访问Web界面
1. **打开浏览器**（Chrome、Firefox、Edge都可以）
2. **输入地址**: http://localhost:5000
3. **看到界面**: 蓝色渐变背景的智能家居监控系统

### 步骤3: 操作界面功能

#### 🎮 系统控制区域
- **绿色"启动系统"按钮**: 点击开始数据采集
- **红色"停止系统"按钮**: 点击停止数据采集  
- **蓝色"刷新数据"按钮**: 点击更新显示数据
- **状态显示**: 显示"系统运行中"或"系统已停止"

#### 📊 数据监控区域
- **系统统计**: 显示运行时间、处理事件数、活跃传感器数等
- **传感器状态**: 实时显示各个传感器的最新数值
- **实时数据图表**: 温度、湿度、光照的变化曲线
- **最近事件**: 显示系统检测到的事件列表

#### 🤖 AI服务组合区域
这是系统的核心功能！
1. **输入目标需求**: 在文本框中描述您想要的功能
   ```
   示例输入：
   - "创建一个智能火灾安全系统"
   - "建立节能环保的家居管理"  
   - "设计温湿度自动调节系统"
   ```

2. **设置约束条件**（可选）:
   ```
   示例：响应时间<30秒,误报率<5%,能耗<100W
   ```

3. **点击"生成服务组合"按钮**
4. **查看AI生成的结果**: 系统会调用GPT模型生成专业方案

---

## 🎯 具体操作示例

### 示例1: 体验火灾安全系统
1. **启动系统**: 点击绿色"启动系统"按钮
2. **观察数据**: 等待30秒，观察温度数据变化和警告信息
3. **创建AI方案**: 
   - 目标需求: `建立智能火灾安全系统，及时检测火灾风险并自动响应`
   - 约束条件: `响应时间<30秒,误报率<5%`
   - 点击"生成服务组合"
4. **查看结果**: AI会生成包含火灾检测、通知服务、设备控制等的完整方案

### 示例2: 观察智能监控
1. **启动系统**后，观察控制台输出：
   ```
   警告: 传感器 home:temperatureSensor_001 的值 51.8°C 超出有效范围
   ```
2. **在Web界面看到**:
   - 传感器状态更新
   - 事件列表增加新事件
   - 图表显示异常数据点
3. **这证明了**: 系统的异常检测和事件处理功能正常工作

---

## 🔧 常见问题解决

### Q1: 命令行报错 "找不到模块"
**解决**: 
```bash
# 安装依赖包
pip install -r requirements.txt
```

### Q2: Web界面打不开
**解决**:
1. 确认看到 "Running on http://127.0.0.1:5000" 消息
2. 尝试访问: http://127.0.0.1:5000
3. 或者: http://localhost:5000

### Q3: AI服务组合没有响应
**说明**: 
- 系统有自动降级机制
- 即使API失败，也会使用内置模拟响应
- 确保网络连接正常

### Q4: 系统启动慢
**说明**: 
- 首次启动需要加载所有模块，大约10-15秒
- 这是正常现象

---

## 📚 系统功能说明

### 🌐 SSN语义建模
- **作用**: 为传感器建立语义模型
- **体现**: 传感器有标准化的ID、属性、单位
- **查看**: Web界面的传感器状态区域

### 📊 数据采集服务  
- **作用**: 模拟真实传感器数据采集
- **体现**: 每5秒采集一次数据，生成语义事件
- **查看**: 实时数据图表、最近事件列表

### 🧠 复杂事件推理
- **作用**: 从简单事件推理出复杂情况
- **体现**: 温度超标→可能火灾风险→触发安全警报
- **查看**: 最近事件中的复杂事件类型

### 🤖 AI服务组合
- **作用**: 根据需求自动生成服务组合方案
- **体现**: 输入需求，AI输出专业的技术方案
- **查看**: 服务组合区域的生成结果

---

## 🎯 展示建议

### 课堂展示流程（总计5-8分钟）
1. **启动演示** (1分钟)
   ```bash
   python demo.py
   ```
   快速展示所有功能

2. **Web界面展示** (3-4分钟)
   - 启动Web界面: `python main.py --mode web`
   - 演示系统启动和数据监控
   - 展示AI服务组合功能

3. **技术亮点介绍** (2-3分钟)
   - SSN语义建模：W3C标准
   - 事件驱动架构：多层次推理
   - AI智能组合：GPT驱动
   - 实时可视化：现代Web界面

### 回答问题准备
- **SSN建模**: "我们使用W3C标准对传感器进行语义建模"
- **事件处理**: "系统能从温度异常推理出火灾风险"  
- **AI组合**: "根据自然语言需求自动生成技术方案"
- **技术栈**: "Python + Flask + GPT + 语义Web技术"

---

## 💡 小贴士

1. **确保Python版本**: 建议Python 3.8或以上
2. **网络连接**: AI功能需要网络，但系统有离线模式
3. **浏览器兼容**: 推荐Chrome、Firefox、Edge
4. **观察日志**: 命令行输出包含丰富的系统信息
5. **数据持续性**: 系统会持续生成新数据，展示动态效果

---

**🎉 现在您可以开始体验这个完整的智能家居监控系统了！**

有任何问题，请根据本说明进行操作，系统设计得非常人性化和稳定。
